# Отчет на 4 балла
### Приведено решение задачи на C

1. [Main.c](https://github.com/zemlianin/first-HW-ABC/blob/master/Main.c)
2. [func.c](https://github.com/zemlianin/first-HW-ABC/blob/master/func.c)
3. [get-rand-num-func.c](https://github.com/zemlianin/first-HW-ABC/blob/master/get-rand-num-func.c)

### Добавлены подробные коментарии в каждый Assebly файл
### Удалены макросы 
Флагами:
```
gcc -masm=intel \
    -fno-asynchronous-unwind-tables \
    -fno-jump-tables \
    -fno-stack-protector \
    -fno-exceptions \
    ./code.c \
    -S -o ./code.s
 ```
 В ручную:
- cdqe
- endbr64
### Модифицированная ассемблерная программа отдельно откомпилирована
и скомпонована без использования опций отладки.

### Представлено полное тестовое покрытие, дающее одинаковый результат
Тестирование происходит за счет тестов внутри файла tests.txt, который запускается при выборе нужного режима внутри мэйн

# Отчет на 5 баллов
- Используется функции Task, Rand, пример:
```
void Task(int *array, int *size, int *B)
void Rand(char *arg, int size, int range, int *A)
```
- Используются локальные переменные i, command, size, input...
- Добавленые коментарии к параметрам функций, пример:
```
Task:
 push rbp                    # Запись рбп в стэк 
 mov rbp, rsp                  # Запись в рбп рсп

 mov r14, rdi                 # Объявление(параметра) Указателя на первый массив
 mov QWORD PTR -32[rbp], rsi  # Объявление(параметра) указателя на число, размер массива
 mov r15, rdx                 # Объявление(Параметра) указателя на второй массив
```
- Добавлены коментарии о связи переменных и стека, пример:
```
mov DWORD PTR -8[rbp], 0       # Объявление переменной current = 0
 mov DWORD PTR -4[rbp], 0     # Объявление переменной j = 0
 
 jmp .L2 				# Прыжок ко второй метке

.L4:
 mov eax, DWORD PTR -4[rbp] 		# Запись j в регистр
 lea rdx, 0[0+rax*4]		  	    # запись в rdx отступа от начала массива
 ```
# Отчет на 6 баллов
- Рефакторинг программы на ассемблере за счет максимального использования регистров процессора.
```
Main.s:
arcs -> r8d
argv[] -> r9
*input -> r12
begin -> r13
end -> r14
i - неудается заменить, Segmentation fault (core dumped)
command - неудается заменить, Segmentation fault (core dumped)
size - неудается заменить, Segmentation fault (core dumped)
func.s:
*A -> r14
*B -> r15
size -> неудается заменить, Segmentation fault (core dumped)
```
- Добавление комментариев, поясняющих эквивалентное использование регистров вместо переменных исходной программы на C.
- Представление результатов тестирования прграммы:

Для сравнения времени работы программ были запущены файлы до оптимизации и после в режиме тестирования, результаты представлены в таблице

<br />

| Номер попытки | До оптимизации, ms  | После оптимизации, ms |
| --- | --- | --- |
| 1 | 7  | 4  |
| 2 | 6  |  4 |
| 3 | 6  | 8  |
| 4 | 8  | 4  |
| 5 | 5  | 7  |
| 6 | 6  | 6  |
| 7 | 7  | 10  |
| 8 | 8  | 4  |
| sum |  53 | 47   |

# Отчет на 7 баллов

- Добавлена функция чтения из файла 
- Добавлена функция вывода в файл
- В файле input содержаться тестовые данные
- В файле output результат работы программы на этих данных

# Отчет на 8 баллов
- В программу добавлен метод Rand, принимающий на вход массив А и заполняющий его случайными числами из требуемого диапозона
- Ввод праметра для генератора
- Добавлена возможность замера времени, вывод происходит в консоль по завершении работы программы, или в случае тестового режима в специально предназначеный файл times.txt

# Отчет на 9 баллов

Для оптимизации кода был задействован флаг -о0
|Параметр|Программа без оптимизации по скорости|Программа с оптимизациями|
|---|---|---|
|Суммарное время работы за 8 запсуков| 53 | 23 |
|Количество строк| 52 | 45 |
|Память|103kb|103kb|
